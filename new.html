<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com"> 
    <link rel="stylesheet" href="css/fonts/fonts.css">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/new-style.css">
    <title>matthieu abily</title>
    <meta name="description" content="matthieu abily cinematography" />

    <script>
        function rand(min, max, floored = false) {
            var v = Math.random() * (max - min + 1) + min;
            if (floored) v = Math.floor(v);
            return v;
        }

        function glitchCharacter(span, randomgBackForth) {
            if (randomgBackForth < 0) {
                span.style.transform = 'translate(0, 0)';
                return;
            }

            if (randomgBackForth === 0) {
                span.style.transform = 'translate(' + rand(5, 15, true) + 'px, ' + rand(5, 15, true) + 'px)';
            } else if (randomgBackForth === 1) {
                span.style.transform = 'translate(-' + rand(5, 15, true) + 'px, -' + rand(5, 15, true) + 'px)';
            } else {
                span.style.transform = 'translate(' + rand(5, 15, true) + 'px, -' + rand(5, 15, true) + 'px)';
            }

            setTimeout(function() {
                glitchCharacter(span, randomgBackForth - 1)
            }, 50);
        }

        function glitchText(spans) {
            setInterval(function() {
                for (var i = 0; i < rand(1, 3, true); i++) {
                    var spanIndex = rand(0,  spans.length - 1, true);
                    setTimeout(glitchCharacter, rand(0, 500), spans[spanIndex], rand(0, 3, true));
                }
            }, rand(1000, 3000));
        }

        // glitch effect
        function glitch() {
            var glitch = document.getElementsByClassName('glitched-text');
            for (var i = 0; i < glitch.length; i++) {
                var text = glitch[i].textContent;
                var splitText = text.split('');
                glitch[i].textContent = '';
                for (var j = 0; j < splitText.length; j++) {
                    if (splitText[j] === ' ') {
                        glitch[i].innerHTML += ' ';
                    } else {
                        glitch[i].innerHTML += '<span>' + splitText[j] + '</span>';
                    }
                }
                var spans = glitch[i].getElementsByTagName('span');
                glitchText(spans);
            }
        }

        window.onload = function() {
            glitch();
        }
    </script>

</head>
<body>
    <div id="background"><div id="grain"></div></div>

    <div id="title">
        <div class="glitched-text">matthieu abily</div>
        <div id="subtitle" class="glitched-text">dop</div>
    </div>

    <div id="menu">
        <div class="item">
            <a href="#">stills</a>
        </div>
        <div class="item">
            <a href="#">contact</a>
        </div>
    </div>

    <div id="content">
        <ul class="images-gallery">
            <li>
                <div class="img-border">
                    <img src="images/projects/FR/BELFFIRE01_1.30.1.png" alt="">
                </div>
            </li>
            <li>
                <div class="img-border">
                    <img src="images/projects/FR/FERROUGEGRAB_GRADED_03.jpg" alt="">
                </div>
            </li>
            <li>
                <div class="img-border">
                    <img src="images/projects/FR/V1-0002_A0003F_S001_S001_T058.2437.Still007.png" alt="">
                </div>
            </li>
            <li>
                <div class="img-border">
                    <img src="images/projects//OF/2Screen Shot 2018-06-17 at 22.39.05.jpg" alt="">
                </div>
            </li>
            <li>
                <div class="img-border">
                    <img src="images/projects//OF/OF1C.jpg" alt="">
                </div>
            </li>
            <li>
                <div class="img-border">
                    <img src="images/projects//OF/OF2.jpg" alt="">
                </div>
            </li>
        </ul>
    </div>
</body>
</html>
